<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <style>

            .soa{ 
                fill: none;
                stroke: #000;
                stroke-linejoin: round; 
            }

        </style>
    </head>
    <body>
        <script src="http://d3js.org/d3.v3.min.js"></script>
        <script src="http://d3js.org/topojson.v1.min.js"></script>
        <script>
        var width = 960,
            height = 1160;

        var projection = d3.geo.albers()
            .center([-3.5, 51.5])
            .rotate([4.4, 0])
            .parallels([50, 60])
            .scale(170000)
            .translate([-8100, height/2]);

        var path = d3.geo.path()
            .projection(projection);

        var svg = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height);

        d3.json("cdflsoa_t.json", function(error, uk) {
          if (error) return console.error(error);
          console.log(uk);
          
          //svg.append("path")
          //    .datum(topojson.feature(uk, uk.objects.cdflsoa))
          //    .attr("d", path);
          svg.selectAll(".soa")
              .data(topojson.feature(uk, uk.objects.cdflsoa).features)
            .enter().append("path")
              .attr("class", function(d) { return "soa " + d.id; })
              .attr("d", path);
          //svg.append("path")
          //  .datum(topojson.mesh(uk, uk.objects.cdflsoa))//, function(a, b) { return a !== b; })
          //  .attr("class", "soa")
          //  .attr("d", path);
        });
        </script>
    </body>
</html>
